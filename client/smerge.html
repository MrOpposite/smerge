<head>
  <title>Smerge - The multisocial platform</title>
</head>

<body>
	<div class="container">
  <h1>Welcome to smerge.me!</h1>
	{{> customLogin}}
  {{#if currentUser}}
	{{> feed}}
	{{/if}}
	</div>
</body>



<template name="customLogin">
	{{#if currentUser}}
		{{>userMenu}}
	{{else}}
		{{>registerOrLogin}}
	{{/if}}

</template>

<template name="userMenu">
	<h2>Welcome {{currentUser.username}}</h2>
	<ul>
	<li>{{#if facebook}} <span id="disconnectFacebookButton">Disconnect from Facebook</span> {{else}} <span id="connectFacebookButton">Connect to Facebook</span> {{/if}}</li>
	<li>{{#if twitter}} <span id="disconnectTwitterButton">Disconnect from Twitter</span> {{else}} <span id="connectTwitterButton">Connect to Twitter</span> {{/if}}</li>
	<li><a href="#" id="signOutButton">signout</a></li>
	</ul>
</template>

<template name="registerOrLogin">
	<span id="loginTab">Login</span> | <span id="registerTab">Register</span>
	{{#if showLogin}}
		{{>login}}
	{{else}}
		{{>register}}
	{{/if}}
</template>

<template name="register">
	<form>
			<input type="text" name="registerUsername" placeholder="Username">
			<input type="email" name="registerEmail" placeholder="Email">
			<input type="password" name="registerPassword" placeholder="Password">
			<input type="submit" value="Register">
	</form>
	{{failed}}
</template>

<template name="login">
	<form>
			<input type="text" name="loginUsernameOrEmail" placeholder="Username or Email">
			<input type="password" name="loginPassword" placeholder="Password">
			<input type="submit" value="Login">
    </form>
		{{failed}}
</template>

<template name="feed">
	<div id="feed">
		{{#each entry in entries}}
		<div class=row>
			<div class="one column"><img class="entryThumb" src="{{entry.thumbUrl}}" /></div>
			<div class="eleven columns">
				<h5 class="entryPoster">{{entry.poster.name}}</h5>
				<span class="entryBody">{{entry.text}}</span>
			</div>
		</div>
		{{else}}
		<span>no entries</span>
		{{/each}}
	</div>
</template>
